<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Privacy &mdash; scikit-mobility  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Data" href="data.html" />
    <link rel="prev" title="Input/Output" href="io.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="../index.html" class="icon icon-home"> scikit-mobility
            <img src="../_static/logo_skmob.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data_structures.html">Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="measures.html">Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">Input/Output</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Privacy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.HomeWorkAttack"><code class="docutils literal notranslate"><span class="pre">HomeWorkAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.HomeWorkAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">HomeWorkAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.LocationAttack"><code class="docutils literal notranslate"><span class="pre">LocationAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.LocationAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">LocationAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.LocationFrequencyAttack"><code class="docutils literal notranslate"><span class="pre">LocationFrequencyAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.LocationFrequencyAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">LocationFrequencyAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.LocationProbabilityAttack"><code class="docutils literal notranslate"><span class="pre">LocationProbabilityAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.LocationProbabilityAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">LocationProbabilityAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.LocationProportionAttack"><code class="docutils literal notranslate"><span class="pre">LocationProportionAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.LocationProportionAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">LocationProportionAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.LocationSequenceAttack"><code class="docutils literal notranslate"><span class="pre">LocationSequenceAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.LocationSequenceAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">LocationSequenceAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.LocationTimeAttack"><code class="docutils literal notranslate"><span class="pre">LocationTimeAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.LocationTimeAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">LocationTimeAttack.assess_risk()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#skmob.privacy.attacks.UniqueLocationAttack"><code class="docutils literal notranslate"><span class="pre">UniqueLocationAttack</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#skmob.privacy.attacks.UniqueLocationAttack.assess_risk"><code class="docutils literal notranslate"><span class="pre">UniqueLocationAttack.assess_risk()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">scikit-mobility</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Privacy</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/privacy.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="privacy">
<h1>Privacy<a class="headerlink" href="#privacy" title="Permalink to this heading"></a></h1>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#skmob.privacy.attacks.LocationAttack" title="skmob.privacy.attacks.LocationAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocationAttack</span></code></a>(knowledge_length)</p></td>
<td><p>Location Attack</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skmob.privacy.attacks.LocationTimeAttack" title="skmob.privacy.attacks.LocationTimeAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocationTimeAttack</span></code></a>(knowledge_length[, ...])</p></td>
<td><p>Location Time Attack</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#skmob.privacy.attacks.UniqueLocationAttack" title="skmob.privacy.attacks.UniqueLocationAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UniqueLocationAttack</span></code></a>(knowledge_length)</p></td>
<td><p>Unique Location Attack</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skmob.privacy.attacks.LocationSequenceAttack" title="skmob.privacy.attacks.LocationSequenceAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocationSequenceAttack</span></code></a>(knowledge_length)</p></td>
<td><p>Location Sequence Attack In a location sequence attack the adversary knows the coordinates of locations visited by an individual and the order in which they were visited and matches them against trajectories.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#skmob.privacy.attacks.LocationFrequencyAttack" title="skmob.privacy.attacks.LocationFrequencyAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocationFrequencyAttack</span></code></a>(knowledge_length[, ...])</p></td>
<td><p>Location Frequency Attack</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skmob.privacy.attacks.LocationProbabilityAttack" title="skmob.privacy.attacks.LocationProbabilityAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocationProbabilityAttack</span></code></a>(knowledge_length)</p></td>
<td><p>Location Probability Attack</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#skmob.privacy.attacks.LocationProportionAttack" title="skmob.privacy.attacks.LocationProportionAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LocationProportionAttack</span></code></a>(knowledge_length[, ...])</p></td>
<td><p>Location Proportion Attack</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#skmob.privacy.attacks.HomeWorkAttack" title="skmob.privacy.attacks.HomeWorkAttack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HomeWorkAttack</span></code></a>([knowledge_length])</p></td>
<td><p>Home And Work Attack</p></td>
</tr>
</tbody>
</table>
<span class="target" id="module-skmob.privacy.attacks"></span><dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.HomeWorkAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">HomeWorkAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.HomeWorkAttack" title="Permalink to this definition"></a></dt>
<dd><p>Home And Work Attack</p>
<p>In a home and work attack the adversary knows the coordinates of
the two locations most frequently visited by an individual, and matches them against frequency vectors.
A frequency vector is an aggregation on trajectory data showing the unique
locations visited by an individual and the frequency with which he visited those locations.
This attack does not require the generation of combinations to build the possible instances of background knowledge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">HomeWorkAttack</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1  0.25</span>
<span class="go">1    2  0.25</span>
<span class="go">2    3  0.25</span>
<span class="go">3    4  0.25</span>
<span class="go">4    5  1.00</span>
<span class="go">5    6  1.00</span>
<span class="go">6    7  1.00</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1  0.25</span>
<span class="go">1    2  0.25</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   lat       lng  datetime  uid  instance  instance_elem  prob</span>
<span class="go">0  1.0  43.54427  10.32615  1.0         1              1  0.25</span>
<span class="go">1  1.0  43.70853  10.40360  1.0         1              2  0.25</span>
<span class="go">2  2.0  43.54427  10.32615  1.0         1              1  0.25</span>
<span class="go">3  2.0  43.70853  10.40360  1.0         1              2  0.25</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="tist2018"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="mob2018"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.HomeWorkAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.HomeWorkAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">LocationAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationAttack" title="Permalink to this definition"></a></dt>
<dd><p>Location Attack</p>
<p>In a location attack the adversary knows the coordinates of the locations visited by an individual and matches them
against trajectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">LocationAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">    uid     risk</span>
<span class="go">0   1       0.333333</span>
<span class="go">1   2       0.500000</span>
<span class="go">2   3       0.333333</span>
<span class="go">3   4       0.333333</span>
<span class="go">4   5       0.250000</span>
<span class="go">5   6       0.250000</span>
<span class="go">6   7       0.500000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.500000</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1   0.5</span>
<span class="go">1    2   1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">          lat        lng            datetime  uid  instance  instance_elem      prob</span>
<span class="go">0   43.843014  10.507994 2011-02-03 08:34:04    1         1              1  0.333333</span>
<span class="go">1   43.544270  10.326150 2011-02-03 09:34:04    1         1              2  0.333333</span>
<span class="go">2   43.708530  10.403600 2011-02-03 10:34:04    1         1              3  0.333333</span>
<span class="go">3   43.843014  10.507994 2011-02-03 08:34:04    1         2              1  0.500000</span>
<span class="go">4   43.544270  10.326150 2011-02-03 09:34:04    1         2              2  0.500000</span>
<span class="go">5   43.779250  11.246260 2011-02-04 10:34:04    1         2              3  0.500000</span>
<span class="go">6   43.843014  10.507994 2011-02-03 08:34:04    1         3              1  0.333333</span>
<span class="go">7   43.708530  10.403600 2011-02-03 10:34:04    1         3              2  0.333333</span>
<span class="go">8   43.779250  11.246260 2011-02-04 10:34:04    1         3              3  0.333333</span>
<span class="go">9   43.544270  10.326150 2011-02-03 09:34:04    1         4              1  0.333333</span>
<span class="go">10  43.708530  10.403600 2011-02-03 10:34:04    1         4              2  0.333333</span>
<span class="go">11  43.779250  11.246260 2011-02-04 10:34:04    1         4              3  0.333333</span>
<span class="go">12  43.843014  10.507994 2011-02-03 08:34:04    2         1              1  1.000000</span>
<span class="go">13  43.708530  10.403600 2011-02-03 09:34:04    2         1              2  1.000000</span>
<span class="go">14  43.843014  10.507994 2011-02-04 10:34:04    2         1              3  1.000000</span>
<span class="go">15  43.843014  10.507994 2011-02-03 08:34:04    2         2              1  0.333333</span>
<span class="go">16  43.708530  10.403600 2011-02-03 09:34:04    2         2              2  0.333333</span>
<span class="go">17  43.544270  10.326150 2011-02-04 11:34:04    2         2              3  0.333333</span>
<span class="go">18  43.843014  10.507994 2011-02-03 08:34:04    2         3              1  1.000000</span>
<span class="go">19  43.843014  10.507994 2011-02-04 10:34:04    2         3              2  1.000000</span>
<span class="go">20  43.544270  10.326150 2011-02-04 11:34:04    2         3              3  1.000000</span>
<span class="go">21  43.708530  10.403600 2011-02-03 09:34:04    2         4              1  0.333333</span>
<span class="go">22  43.843014  10.507994 2011-02-04 10:34:04    2         4              2  0.333333</span>
<span class="go">23  43.544270  10.326150 2011-02-04 11:34:04    2         4              3  0.333333</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id1"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id2"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationFrequencyAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">LocationFrequencyAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationFrequencyAttack" title="Permalink to this definition"></a></dt>
<dd><p>Location Frequency Attack</p>
<p>In a location frequency attack the adversary knows the coordinates of the unique locations visited by an individual
and the frequency with which he visited them, and matches them against frequency vectors. A frequency vector,
is an aggregation on trajectory data showing the unique locations visited by an individual and the frequency
with which he visited those locations. It is possible to specify a tolerance level for the matching of the frequency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p></li>
<li><p><strong>tolerance</strong> (<em>float, optional</em>) – the tolarance with which to match the frequency. It can assume values between 0 and 1. The defaul is <cite>0</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – the tolarance with which to match the frequency.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">LocationFrequencyAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.333333</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the tolerance with witch the frequency is matched</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.250000</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.500000</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1   0.5</span>
<span class="go">1    2   1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">    lat        lng   datetime  uid  instance  instance_elem      prob</span>
<span class="go">0   1.0  43.544270  10.326150  1.0         1              1  0.333333</span>
<span class="go">1   1.0  43.708530  10.403600  1.0         1              2  0.333333</span>
<span class="go">2   1.0  43.779250  11.246260  1.0         1              3  0.333333</span>
<span class="go">3   1.0  43.544270  10.326150  1.0         2              1  0.333333</span>
<span class="go">4   1.0  43.708530  10.403600  1.0         2              2  0.333333</span>
<span class="go">5   1.0  43.843014  10.507994  1.0         2              3  0.333333</span>
<span class="go">6   1.0  43.544270  10.326150  1.0         3              1  0.500000</span>
<span class="go">7   1.0  43.779250  11.246260  1.0         3              2  0.500000</span>
<span class="go">8   1.0  43.843014  10.507994  1.0         3              3  0.500000</span>
<span class="go">9   1.0  43.708530  10.403600  1.0         4              1  0.333333</span>
<span class="go">10  1.0  43.779250  11.246260  1.0         4              2  0.333333</span>
<span class="go">11  1.0  43.843014  10.507994  1.0         4              3  0.333333</span>
<span class="go">12  2.0  43.544270  10.326150  1.0         1              1  1.000000</span>
<span class="go">13  2.0  43.708530  10.403600  1.0         1              2  1.000000</span>
<span class="go">14  2.0  43.843014  10.507994  2.0         1              3  1.000000</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id3"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id4"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationFrequencyAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationFrequencyAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationProbabilityAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">LocationProbabilityAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationProbabilityAttack" title="Permalink to this definition"></a></dt>
<dd><p>Location Probability Attack</p>
<p>In a location probability attack the adversary knows the coordinates of
the unique locations visited by an individual and the probability with which he visited them,
and matches them against probability vectors.
A probability vector, is an aggregation on trajectory data showing the unique locations visited by an individual
and the probability with which he visited those locations.
It is possible to specify a tolerance level for the matching of the probability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p></li>
<li><p><strong>tolerance</strong> (<em>float, optional</em>) – the tolarance with which to match the probability. It can assume values between 0 and 1. The defaul is <cite>0</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – the tolarance with which to match the probability.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">LocationProbabilityAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1   0.5</span>
<span class="go">1    2   1.0</span>
<span class="go">2    3   0.5</span>
<span class="go">3    4   1.0</span>
<span class="go">4    5   1.0</span>
<span class="go">5    6   1.0</span>
<span class="go">6    7   1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the tolerance with witch the frequency is matched</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  0.500000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.250000</span>
<span class="go">5    6  1.000000</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.500000</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  1.000000</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1   0.5</span>
<span class="go">1    2   1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">    lat        lng   datetime   uid  instance  instance_elem      prob</span>
<span class="go">0   1.0  43.544270  10.326150  0.25         1              1  0.333333</span>
<span class="go">1   1.0  43.708530  10.403600  0.25         1              2  0.333333</span>
<span class="go">2   1.0  43.779250  11.246260  0.25         1              3  0.333333</span>
<span class="go">3   1.0  43.544270  10.326150  0.25         2              1  0.333333</span>
<span class="go">4   1.0  43.708530  10.403600  0.25         2              2  0.333333</span>
<span class="go">5   1.0  43.843014  10.507994  0.25         2              3  0.333333</span>
<span class="go">6   1.0  43.544270  10.326150  0.25         3              1  0.500000</span>
<span class="go">7   1.0  43.779250  11.246260  0.25         3              2  0.500000</span>
<span class="go">8   1.0  43.843014  10.507994  0.25         3              3  0.500000</span>
<span class="go">9   1.0  43.708530  10.403600  0.25         4              1  0.333333</span>
<span class="go">10  1.0  43.779250  11.246260  0.25         4              2  0.333333</span>
<span class="go">11  1.0  43.843014  10.507994  0.25         4              3  0.333333</span>
<span class="go">12  2.0  43.544270  10.326150  0.25         1              1  1.000000</span>
<span class="go">13  2.0  43.708530  10.403600  0.25         1              2  1.000000</span>
<span class="go">14  2.0  43.843014  10.507994  0.50         1              3  1.000000</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id5"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id6"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationProbabilityAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationProbabilityAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationProportionAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">LocationProportionAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationProportionAttack" title="Permalink to this definition"></a></dt>
<dd><p>Location Proportion Attack</p>
<p>In a location proportion attack the adversary knows the coordinates of the unique locations visited
by an individual and the relative proportions between their frequencies of visit,
and matches them against frequency vectors.
A frequency vector is an aggregation on trajectory data showing the unique locations visited by an individual
and the frequency with which he visited those locations.
It is possible to specify a tolerance level for the matching of the proportion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p></li>
<li><p><strong>tolerance</strong> (<em>float, optional</em>) – the tolarance with which to match the frequency. It can assume values between 0 and 1. The defaul is <cite>0</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – the tolarance with which to match the frequency.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">LocationProportionAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.333333</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the tolerance with witch the frequency is matched</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  0.250000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.333333</span>
<span class="go">6    7  0.250000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  0.333333</span>
<span class="go">2    3  0.500000</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.333333</span>
<span class="go">6    7  0.250000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  0.333333</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">    lat        lng   datetime  uid  instance  instance_elem      prob</span>
<span class="go">0   1.0  43.544270  10.326150  1.0         1              1  0.333333</span>
<span class="go">1   1.0  43.708530  10.403600  1.0         1              2  0.333333</span>
<span class="go">2   1.0  43.779250  11.246260  1.0         1              3  0.333333</span>
<span class="go">3   1.0  43.544270  10.326150  1.0         2              1  0.500000</span>
<span class="go">4   1.0  43.708530  10.403600  1.0         2              2  0.500000</span>
<span class="go">5   1.0  43.843014  10.507994  1.0         2              3  0.500000</span>
<span class="go">6   1.0  43.544270  10.326150  1.0         3              1  0.500000</span>
<span class="go">7   1.0  43.779250  11.246260  1.0         3              2  0.500000</span>
<span class="go">8   1.0  43.843014  10.507994  1.0         3              3  0.500000</span>
<span class="go">9   1.0  43.708530  10.403600  1.0         4              1  0.333333</span>
<span class="go">10  1.0  43.779250  11.246260  1.0         4              2  0.333333</span>
<span class="go">11  1.0  43.843014  10.507994  1.0         4              3  0.333333</span>
<span class="go">12  2.0  43.544270  10.326150  1.0         1              1  0.333333</span>
<span class="go">13  2.0  43.708530  10.403600  1.0         1              2  0.333333</span>
<span class="go">14  2.0  43.843014  10.507994  2.0         1              3  0.333333</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id7"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id8"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationProportionAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationProportionAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationSequenceAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">LocationSequenceAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationSequenceAttack" title="Permalink to this definition"></a></dt>
<dd><p>Location Sequence Attack
In a location sequence attack the adversary knows the coordinates of locations visited by an individual and
the order in which they were visited and matches them against trajectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">LocationSequenceAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  0.500000</span>
<span class="go">2    3  1.000000</span>
<span class="go">3    4  0.500000</span>
<span class="go">4    5  1.000000</span>
<span class="go">5    6  0.333333</span>
<span class="go">6    7  0.500000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  1.000000</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  1.000000</span>
<span class="go">3    4  1.000000</span>
<span class="go">4    5  1.000000</span>
<span class="go">5    6  0.333333</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1   1.0</span>
<span class="go">1    2   1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">          lat        lng            datetime  uid  instance  instance_elem  prob</span>
<span class="go">0   43.843014  10.507994 2011-02-03 08:34:04    1         1              1   1.0</span>
<span class="go">1   43.544270  10.326150 2011-02-03 09:34:04    1         1              2   1.0</span>
<span class="go">2   43.708530  10.403600 2011-02-03 10:34:04    1         1              3   1.0</span>
<span class="go">3   43.843014  10.507994 2011-02-03 08:34:04    1         2              1   1.0</span>
<span class="go">4   43.544270  10.326150 2011-02-03 09:34:04    1         2              2   1.0</span>
<span class="go">5   43.779250  11.246260 2011-02-04 10:34:04    1         2              3   1.0</span>
<span class="go">6   43.843014  10.507994 2011-02-03 08:34:04    1         3              1   1.0</span>
<span class="go">7   43.708530  10.403600 2011-02-03 10:34:04    1         3              2   1.0</span>
<span class="go">8   43.779250  11.246260 2011-02-04 10:34:04    1         3              3   1.0</span>
<span class="go">9   43.544270  10.326150 2011-02-03 09:34:04    1         4              1   0.5</span>
<span class="go">10  43.708530  10.403600 2011-02-03 10:34:04    1         4              2   0.5</span>
<span class="go">11  43.779250  11.246260 2011-02-04 10:34:04    1         4              3   0.5</span>
<span class="go">12  43.843014  10.507994 2011-02-03 08:34:04    2         1              1   1.0</span>
<span class="go">13  43.708530  10.403600 2011-02-03 09:34:04    2         1              2   1.0</span>
<span class="go">14  43.843014  10.507994 2011-02-04 10:34:04    2         1              3   1.0</span>
<span class="go">15  43.843014  10.507994 2011-02-03 08:34:04    2         2              1   1.0</span>
<span class="go">16  43.708530  10.403600 2011-02-03 09:34:04    2         2              2   1.0</span>
<span class="go">17  43.544270  10.326150 2011-02-04 11:34:04    2         2              3   1.0</span>
<span class="go">18  43.843014  10.507994 2011-02-03 08:34:04    2         3              1   1.0</span>
<span class="go">19  43.843014  10.507994 2011-02-04 10:34:04    2         3              2   1.0</span>
<span class="go">20  43.544270  10.326150 2011-02-04 11:34:04    2         3              3   1.0</span>
<span class="go">21  43.708530  10.403600 2011-02-03 09:34:04    2         4              1   1.0</span>
<span class="go">22  43.843014  10.507994 2011-02-04 10:34:04    2         4              2   1.0</span>
<span class="go">23  43.544270  10.326150 2011-02-04 11:34:04    2         4              3   1.0</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id9"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id10"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationSequenceAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationSequenceAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationTimeAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">LocationTimeAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Hour'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationTimeAttack" title="Permalink to this definition"></a></dt>
<dd><p>Location Time Attack</p>
<p>In a location time attack the adversary knows the coordinates of locations visited by an individual and the time
in which they were visited and matches them against trajectories. The precision at which to consider the temporal
information can also be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p></li>
<li><p><strong>time_precision</strong> (<em>string, optional</em>) – the precision at which to consider the timestamps for the visits.
The possible precisions are: Year, Month, Day, Hour, Minute, Second. The default is <cite>Hour</cite></p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p></li>
<li><p><strong>time_precision</strong> (<em>string</em>) – the precision at which to consider the timestamps for the visits.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">LocationTimeAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid  risk</span>
<span class="go">0    1   1.0</span>
<span class="go">1    2   1.0</span>
<span class="go">2    3   1.0</span>
<span class="go">3    4   1.0</span>
<span class="go">4    5   1.0</span>
<span class="go">5    6   0.5</span>
<span class="go">6    7   1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1">#change the time granularity of the attack</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">time_precision</span> <span class="o">=</span> <span class="s2">&quot;Month&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  0.500000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.250000</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  0.500000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  1.000000</span>
<span class="go">2    3  0.500000</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  1.000000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">          lat        lng            datetime  uid  instance  instance_elem      prob</span>
<span class="go">0   43.843014  10.507994 2011-02-03 08:34:04    1         1              1  0.333333</span>
<span class="go">1   43.544270  10.326150 2011-02-03 09:34:04    1         1              2  0.333333</span>
<span class="go">2   43.708530  10.403600 2011-02-03 10:34:04    1         1              3  0.333333</span>
<span class="go">3   43.843014  10.507994 2011-02-03 08:34:04    1         2              1  0.500000</span>
<span class="go">4   43.544270  10.326150 2011-02-03 09:34:04    1         2              2  0.500000</span>
<span class="go">5   43.779250  11.246260 2011-02-04 10:34:04    1         2              3  0.500000</span>
<span class="go">6   43.843014  10.507994 2011-02-03 08:34:04    1         3              1  0.333333</span>
<span class="go">7   43.708530  10.403600 2011-02-03 10:34:04    1         3              2  0.333333</span>
<span class="go">8   43.779250  11.246260 2011-02-04 10:34:04    1         3              3  0.333333</span>
<span class="go">9   43.544270  10.326150 2011-02-03 09:34:04    1         4              1  0.333333</span>
<span class="go">10  43.708530  10.403600 2011-02-03 10:34:04    1         4              2  0.333333</span>
<span class="go">11  43.779250  11.246260 2011-02-04 10:34:04    1         4              3  0.333333</span>
<span class="go">12  43.843014  10.507994 2011-02-03 08:34:04    2         1              1  1.000000</span>
<span class="go">13  43.708530  10.403600 2011-02-03 09:34:04    2         1              2  1.000000</span>
<span class="go">14  43.843014  10.507994 2011-02-04 10:34:04    2         1              3  1.000000</span>
<span class="go">15  43.843014  10.507994 2011-02-03 08:34:04    2         2              1  0.333333</span>
<span class="go">16  43.708530  10.403600 2011-02-03 09:34:04    2         2              2  0.333333</span>
<span class="go">17  43.544270  10.326150 2011-02-04 11:34:04    2         2              3  0.333333</span>
<span class="go">18  43.843014  10.507994 2011-02-03 08:34:04    2         3              1  1.000000</span>
<span class="go">19  43.843014  10.507994 2011-02-04 10:34:04    2         3              2  1.000000</span>
<span class="go">20  43.544270  10.326150 2011-02-04 11:34:04    2         3              3  1.000000</span>
<span class="go">21  43.708530  10.403600 2011-02-03 09:34:04    2         4              1  0.333333</span>
<span class="go">22  43.843014  10.507994 2011-02-04 10:34:04    2         4              2  0.333333</span>
<span class="go">23  43.544270  10.326150 2011-02-04 11:34:04    2         4              3  0.333333</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id11"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id12"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.LocationTimeAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.LocationTimeAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skmob.privacy.attacks.UniqueLocationAttack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skmob.privacy.attacks.</span></span><span class="sig-name descname"><span class="pre">UniqueLocationAttack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">knowledge_length</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.UniqueLocationAttack" title="Permalink to this definition"></a></dt>
<dd><p>Unique Location Attack</p>
<p>In a unique location attack the adversary knows the coordinates of unique locations visited by an individual,
and matches them against frequency vectors. A frequency vector, is an aggregation on trajectory
data showing the unique locations visited by an individual and the frequency with which he visited those locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate. The length of the background knowledge
specifies the amount of knowledge that the adversary will use for her attack. For each individual all the
combinations of points of length k will be evaluated.</p>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>knowledge_length</strong> (<em>int</em>) – the length of the background knowledge that we want to simulate.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">skmob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.privacy</span> <span class="kn">import</span> <span class="n">attacks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">skmob.core.trajectorydataframe</span> <span class="kn">import</span> <span class="n">TrajDataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># load data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url_priv_ex</span> <span class="o">=</span> <span class="s2">&quot;https://github.com/scikit-mobility/tutorials/blob/master/AMLD%202020/data/privacy_toy.csv&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trjdat</span> <span class="o">=</span> <span class="n">TrajDataFrame</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">url_priv_ex</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># create a location attack and assess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span> <span class="o">=</span> <span class="n">attacks</span><span class="o">.</span><span class="n">UniqueLocationAttack</span><span class="p">(</span><span class="n">knowledge_length</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.333333</span>
<span class="go">1    2  0.250000</span>
<span class="go">2    3  0.333333</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.250000</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  0.250000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># change the length of the background knowledge and reassess risk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">at</span><span class="o">.</span><span class="n">knowledge_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  0.333333</span>
<span class="go">2    3  0.500000</span>
<span class="go">3    4  0.333333</span>
<span class="go">4    5  0.333333</span>
<span class="go">5    6  0.250000</span>
<span class="go">6    7  0.250000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># limit privacy assessment to some target uids</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">   uid      risk</span>
<span class="go">0    1  0.500000</span>
<span class="go">1    2  0.333333</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inspect probability of reidentification for each background knowledge instance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">assess_risk</span><span class="p">(</span><span class="n">trjdat</span><span class="p">,</span> <span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">force_instances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">    lat        lng   datetime  uid  instance  instance_elem      prob</span>
<span class="go">0   1.0  43.544270  10.326150  1.0         1              1  0.333333</span>
<span class="go">1   1.0  43.708530  10.403600  1.0         1              2  0.333333</span>
<span class="go">2   1.0  43.779250  11.246260  1.0         1              3  0.333333</span>
<span class="go">3   1.0  43.544270  10.326150  1.0         2              1  0.333333</span>
<span class="go">4   1.0  43.708530  10.403600  1.0         2              2  0.333333</span>
<span class="go">5   1.0  43.843014  10.507994  1.0         2              3  0.333333</span>
<span class="go">6   1.0  43.544270  10.326150  1.0         3              1  0.500000</span>
<span class="go">7   1.0  43.779250  11.246260  1.0         3              2  0.500000</span>
<span class="go">8   1.0  43.843014  10.507994  1.0         3              3  0.500000</span>
<span class="go">9   1.0  43.708530  10.403600  1.0         4              1  0.333333</span>
<span class="go">10  1.0  43.779250  11.246260  1.0         4              2  0.333333</span>
<span class="go">11  1.0  43.843014  10.507994  1.0         4              3  0.333333</span>
<span class="go">12  2.0  43.544270  10.326150  1.0         1              1  0.333333</span>
<span class="go">13  2.0  43.708530  10.403600  1.0         1              2  0.333333</span>
<span class="go">14  2.0  43.843014  10.507994  2.0         1              3  0.333333</span>
</pre></div>
</div>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="id13"><span class="brackets">TIST2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, and Anna Monreale. 2017. A Data Mining Approach to Assess Privacy Risk in Human Mobility Data. ACM Trans. Intell. Syst. Technol. 9, 3, Article 31 (December 2017), 27 pages. DOI: <a class="reference external" href="https://doi.org/10.1145/3106774">https://doi.org/10.1145/3106774</a></p>
</dd>
<dt class="label" id="id14"><span class="brackets">MOB2018</span></dt>
<dd><p>Roberto Pellungrini, Luca Pappalardo, Francesca Pratesi, Anna Monreale: Analyzing Privacy Risk in Human Mobility Data. STAF Workshops 2018: 114-129</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skmob.privacy.attacks.UniqueLocationAttack.assess_risk">
<span class="sig-name descname"><span class="pre">assess_risk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_instances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skmob.privacy.attacks.UniqueLocationAttack.assess_risk" title="Permalink to this definition"></a></dt>
<dd><p>Assess privacy risk for a TrajectoryDataFrame.
An attack must implement an assessing strategy. This could involve some preprocessing, for example
transforming the original data, and calls to the risk function.
If it is not required to compute the risk for the entire data, the targets parameter can be used to select
a portion of users to perform the assessment on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>traj</strong> (<em>TrajectoryDataFrame</em>) – the dataframe on which to assess privacy risk.</p></li>
<li><p><strong>targets</strong> (<em>TrajectoryDataFrame or list, optional</em>) – the users_id target of the attack.  They must be compatible with the trajectory data. Default values is None
in which case risk is computed on all users in traj. The defaul is <cite>None</cite>.</p></li>
<li><p><strong>force_instances</strong> (<em>boolean, optional</em>) – if True, returns all possible instances of background knowledge
with their respective probability of reidentification. The defaul is <cite>False</cite>.</p></li>
<li><p><strong>show_progress</strong> (<em>boolean, optional</em>) – if True, shows the progress of the computation. The defaul is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a DataFrame with the privacy risk for each user, in the form (user_id, risk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="io.html" class="btn btn-neutral float-left" title="Input/Output" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="data.html" class="btn btn-neutral float-right" title="Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, skmob devs.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-XXXXXXX-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>